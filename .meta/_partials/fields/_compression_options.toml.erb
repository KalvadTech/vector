<%- options = {
    "type" => "string",
    "common" => true,
    "default" => "none",
    "description" => """\
The compression algorithm used to compress the encoded event data before \
transmission.\
"""
}.merge(options || {}) -%>

<%- enum = {
    "none" => "No compression.",
    "gzip" => "[Gzip][urls.gzip] standard DEFLATE compression."
}.merge(enum || {}) -%>

[<%= namespace %>.compression]
type = "table"
description = """\
Configures the compression specific sink behavior.\
"""

[<%= namespace %>.compression.children.algorithm]
<%= options.to_toml %>

[<%= namespace %>.compression.children.algorithm.enum]
<%= enum.to_toml %>

[<%= namespace %>.compression.children.level]
type = "string"
default = "default"
examples = ["fast", "default", "best"]
description = """\
Compression level. Can be described by string, like: `none`, `fast`, `default`, `best`. Or by number, like: `0`, `1`, `6`, `9`.\
"""
